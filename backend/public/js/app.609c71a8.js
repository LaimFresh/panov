(function(){var e={254:function(e,t,a){"use strict";e.exports=a.p+"img/a1.6d37b7d6.jpg"},290:function(e,t,a){var r={"./a1.jpg":254,"./a2.jpg":521,"./a3.jpg":3644,"./a4.jpg":5191,"./a5.jpg":3802,"./c1.jpg":9856,"./c2.jpg":3471,"./c3.jpg":9186,"./c4.jpg":7201,"./c5.jpg":9156,"./c6.jpg":787,"./e1.jpg":8946,"./g2.jpg":899,"./i1.jpg":5510,"./i2.jpg":6929,"./i3.jpg":9556,"./p1.jpg":3945};function o(e){var t=n(e);return a(t)}function n(e){if(!a.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=n,e.exports=o,o.id=290},521:function(e,t,a){"use strict";e.exports=a.p+"img/a2.1f943ed6.jpg"},787:function(e,t,a){"use strict";e.exports=a.p+"img/c6.c7109c67.jpg"},899:function(e,t,a){"use strict";e.exports=a.p+"img/g2.89b616c8.jpg"},3471:function(e,t,a){"use strict";e.exports=a.p+"img/c2.ad8da0bd.jpg"},3644:function(e,t,a){"use strict";e.exports=a.p+"img/a3.e933ed64.jpg"},3802:function(e,t,a){"use strict";e.exports=a.p+"img/a5.08d264df.jpg"},3945:function(e,t,a){"use strict";e.exports=a.p+"img/p1.8d2f2d2e.jpg"},5191:function(e,t,a){"use strict";e.exports=a.p+"img/a4.7e8a5eaf.jpg"},5510:function(e,t,a){"use strict";e.exports=a.p+"img/i1.89b616c8.jpg"},6929:function(e,t,a){"use strict";e.exports=a.p+"img/i2.d22f1286.jpg"},7201:function(e,t,a){"use strict";e.exports=a.p+"img/c4.bfa25190.jpg"},8946:function(e,t,a){"use strict";e.exports=a.p+"img/e1.8d2f2d2e.jpg"},9156:function(e,t,a){"use strict";e.exports=a.p+"img/c5.56e8cd5c.jpg"},9186:function(e,t,a){"use strict";e.exports=a.p+"img/c3.4f1337fd.jpg"},9210:function(e,t,a){"use strict";var r=a(5130),o=a(6768),n=a(4232);const l={id:"app"},s={class:"navbar navbar-expand-lg navbar-dark bg-dark"},i={class:"container"},u={class:"collapse navbar-collapse",id:"navbarNav"},c={class:"navbar-nav me-auto"},d={class:"nav-item"},m={class:"nav-item"},p={class:"nav-item"},k={class:"nav-item"},f={class:"nav-item"},g={class:"navbar-nav ms-auto"},h={key:0,class:"nav-item d-flex align-items-center"},b={class:"text-light me-2"},v={class:"nav-item"},L={class:"nav-item"},y={class:"container mt-4"};function _(e,t,a,r,_,D){const x=(0,o.g2)("router-link"),E=(0,o.g2)("router-view");return(0,o.uX)(),(0,o.CE)("div",l,[(0,o.Lk)("nav",s,[(0,o.Lk)("div",i,[(0,o.bF)(x,{to:"/",class:"navbar-brand"},{default:(0,o.k6)((()=>t[1]||(t[1]=[(0,o.eW)("Мебельный цех")]))),_:1}),t[9]||(t[9]=(0,o.Lk)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"},[(0,o.Lk)("span",{class:"navbar-toggler-icon"})],-1)),(0,o.Lk)("div",u,[(0,o.Lk)("ul",c,[(0,o.Lk)("li",d,[(0,o.bF)(x,{to:"/",class:"nav-link"},{default:(0,o.k6)((()=>t[2]||(t[2]=[(0,o.eW)("Главная")]))),_:1})]),(0,o.Lk)("li",m,[(0,o.bF)(x,{to:"/about",class:"nav-link"},{default:(0,o.k6)((()=>t[3]||(t[3]=[(0,o.eW)("О нас")]))),_:1})]),(0,o.Lk)("li",p,[(0,o.bF)(x,{to:"/contacts",class:"nav-link"},{default:(0,o.k6)((()=>t[4]||(t[4]=[(0,o.eW)("Контакты")]))),_:1})]),(0,o.Lk)("li",k,[(0,o.bF)(x,{to:"/products",class:"nav-link"},{default:(0,o.k6)((()=>t[5]||(t[5]=[(0,o.eW)("Товары")]))),_:1})]),(0,o.Lk)("li",f,[(0,o.bF)(x,{to:"/employees",class:"nav-link"},{default:(0,o.k6)((()=>t[6]||(t[6]=[(0,o.eW)("Сотрудники")]))),_:1})])]),(0,o.Lk)("ul",g,[_.isAuthenticated?((0,o.uX)(),(0,o.CE)("li",h,[(0,o.Lk)("span",b,"Привет, "+(0,n.v_)(_.username),1),(0,o.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>D.logout&&D.logout(...e)),class:"btn btn-outline-light btn-sm"},"Выйти")])):((0,o.uX)(),(0,o.CE)(o.FK,{key:1},[(0,o.Lk)("li",v,[(0,o.bF)(x,{to:"/login",class:"nav-link"},{default:(0,o.k6)((()=>t[7]||(t[7]=[(0,o.eW)("Войти")]))),_:1})]),(0,o.Lk)("li",L,[(0,o.bF)(x,{to:"/register",class:"nav-link"},{default:(0,o.k6)((()=>t[8]||(t[8]=[(0,o.eW)("Регистрация")]))),_:1})])],64))])])])]),(0,o.Lk)("div",y,[(0,o.bF)(E)])])}a(4114);var D={name:"App",data(){return{isAuthenticated:!1,username:"",role:""}},async created(){await this.checkAuth()},methods:{async checkAuth(){try{const e=await fetch("/protected");if(e.ok){const t=await e.json();this.isAuthenticated=!0,this.username=t.username,this.role=t.role}else this.isAuthenticated=!1}catch(e){console.error("Ошибка при проверке авторизации:",e),this.isAuthenticated=!1}},async logout(){try{await fetch("/logout",{method:"GET"}),this.isAuthenticated=!1,this.username="",this.role="",this.$router.push("/login")}catch(e){console.error("Ошибка при выходе:",e)}}}},x=a(1241);const E=(0,x.A)(D,[["render",_],["__scopeId","data-v-28a79544"]]);var w=E,P=a(1387),C=a(5510),j=a(6929),A=a(9556);const U={class:"site-index container"};function V(e,t,a,r,n,l){return(0,o.uX)(),(0,o.CE)("div",U,t[0]||(t[0]=[(0,o.Fv)('<h1 data-v-11b79ace>Добро пожаловать в наш мебельный цех!</h1><p data-v-11b79ace> Мы создаём качественную и удобную мебель на заказ. Изготовление по индивидуальным размерам, экологичные материалы и внимание к деталям — вот что делает нашу мебель особенной! </p><div class="row" data-v-11b79ace><div class="col-md-4" data-v-11b79ace><img src="'+C+'" alt="Фото 1" class="img-responsive" data-v-11b79ace><p data-v-11b79ace>Индивидуальный подход к каждому заказу.</p></div><div class="col-md-4" data-v-11b79ace><img src="'+j+'" alt="Фото 2" class="img-responsive" data-v-11b79ace><p data-v-11b79ace>Изготовление мебели под любые размеры и стили.</p></div><div class="col-md-4" data-v-11b79ace><img src="'+A+'" alt="Фото 3" class="img-responsive" data-v-11b79ace><p data-v-11b79ace>Гарантия качества и долговечности каждой единицы продукции.</p></div></div>',3)]))}var X={name:"HomeView"};const I=(0,x.A)(X,[["render",V],["__scopeId","data-v-11b79ace"]]);var $=I;const q={class:"site-about container"},J={class:"row"},W=["src","alt"],F={class:"row mt-3"},O=["src","alt"];function S(e,t,a,r,l,s){return(0,o.uX)(),(0,o.CE)("div",q,[t[0]||(t[0]=(0,o.Lk)("h1",null,"О нашем мебельном цехе",-1)),t[1]||(t[1]=(0,o.Lk)("p",null," Мы занимаемся производством мебели на заказ более 10 лет. Изготавливаем качественную и функциональную мебель, учитывая пожелания каждого клиента. Ваш дом — наша забота! ",-1)),(0,o.Lk)("div",J,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(l.images,((e,t)=>((0,o.uX)(),(0,o.CE)("div",{class:"col-md-4",key:t},[(0,o.Lk)("img",{src:e.src,alt:e.alt,class:"img-responsive"},null,8,W),(0,o.Lk)("p",null,(0,n.v_)(e.description),1)])))),128))]),(0,o.Lk)("div",F,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(l.additionalImages,((e,t)=>((0,o.uX)(),(0,o.CE)("div",{class:"col-md-6",key:t},[(0,o.Lk)("img",{src:e.src,alt:e.alt,class:"img-responsive"},null,8,O),(0,o.Lk)("p",null,(0,n.v_)(e.description),1)])))),128))])])}var T={name:"AboutView",data(){return{images:[{src:a(254),alt:"Фото 1",description:"Индивидуальные проекты под любые размеры и стили."},{src:a(521),alt:"Фото 2",description:"Работаем с экологичными и долговечными материалами."},{src:a(3644),alt:"Фото 3",description:"Опытные мастера и современное оборудование."}],additionalImages:[{src:a(5191),alt:"Фото 4",description:"Бесплатный выезд замерщика по городу."},{src:a(3802),alt:"Фото 5",description:"Собственное производство — гарантия качества и сроков."}]}}};const R=(0,x.A)(T,[["render",S],["__scopeId","data-v-a33a7492"]]);var N=R;const B={class:"site-contact container"},K={class:"row mt-3"},z=["src","alt"],M={class:"mt-2"};function G(e,t,a,r,l,s){return(0,o.uX)(),(0,o.CE)("div",B,[t[3]||(t[3]=(0,o.Lk)("h1",null,"Наши контакты",-1)),t[4]||(t[4]=(0,o.Lk)("p",null," Если у вас есть вопросы по поводу заказа мебели или вы хотите проконсультироваться с нашими специалистами, свяжитесь с нами любым удобным способом: ",-1)),(0,o.Lk)("div",K,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(l.employees,((e,a)=>((0,o.uX)(),(0,o.CE)("div",{class:"col-md-4 text-center",key:a},[(0,o.Lk)("img",{src:e.image,alt:e.name,class:"img-responsive rounded-circle",style:{width:"150px",height:"150px","object-fit":"cover"}},null,8,z),(0,o.Lk)("h5",M,(0,n.v_)(e.name),1),(0,o.Lk)("p",null,[t[0]||(t[0]=(0,o.Lk)("strong",null,"Должность:",-1)),(0,o.eW)(" "+(0,n.v_)(e.position),1)]),(0,o.Lk)("p",null,[t[1]||(t[1]=(0,o.Lk)("strong",null,"Телефон:",-1)),(0,o.eW)(" "+(0,n.v_)(e.phone),1)]),(0,o.Lk)("p",null,[t[2]||(t[2]=(0,o.Lk)("strong",null,"Email:",-1)),(0,o.eW)(" "+(0,n.v_)(e.email),1)])])))),128))])])}var H={name:"ContactsView",data(){return{employees:[{image:a(9856),name:"Иванов Иван Иванович",position:"Руководитель цеха",phone:"+7 (987) 654-32-10",email:"ivanov@example.com"},{image:a(3471),name:"Петров Петр Петрович",position:"Мастер-конструктор",phone:"+7 (987) 654-32-11",email:"petrov@example.com"},{image:a(9186),name:"Сидоров Семён Семёнович",position:"Администратор",phone:"+7 (987) 654-32-12",email:"sidorov@example.com"},{image:a(7201),name:"Кузнецова Мария Сергеевна",position:"Менеджер по работе с клиентами",phone:"+7 (987) 654-32-13",email:"kuznetsova@example.com"},{image:a(9156),name:"Васильева Екатерина Андреевна",position:"Замерщик",phone:"+7 (987) 654-32-14",email:"vasileva@example.com"},{image:a(787),name:"Николаев Дмитрий Олегович",position:"Отдел логистики",phone:"+7 (987) 654-32-15",email:"nikolaev@example.com"}]}}};const Q=(0,x.A)(H,[["render",G],["__scopeId","data-v-459ef2b6"]]);var Y=Q;const Z={class:"furniture-products-index"},ee={class:"table"},te=["src","alt"],ae={key:1},re=["onClick"],oe={class:"pagination"},ne=["disabled"],le=["disabled"];function se(e,t,a,r,l,s){const i=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("div",Z,[t[6]||(t[6]=(0,o.Lk)("h1",null,"Список мебельных изделий",-1)),(0,o.bF)(i,{to:"/products/add",class:"btn btn-primary"},{default:(0,o.k6)((()=>t[2]||(t[2]=[(0,o.eW)("Добавить продукт")]))),_:1}),(0,o.Lk)("table",ee,[t[5]||(t[5]=(0,o.Lk)("thead",null,[(0,o.Lk)("tr",null,[(0,o.Lk)("th",null,"#"),(0,o.Lk)("th",null,"Название"),(0,o.Lk)("th",null,"Категория"),(0,o.Lk)("th",null,"Цена"),(0,o.Lk)("th",null,"Материал"),(0,o.Lk)("th",null,"Габариты"),(0,o.Lk)("th",null,"В наличии"),(0,o.Lk)("th",null,"Изображение"),(0,o.Lk)("th",null,"Действия")])],-1)),(0,o.Lk)("tbody",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(l.products,(e=>((0,o.uX)(),(0,o.CE)("tr",{key:e.id},[(0,o.Lk)("td",null,(0,n.v_)(e.id),1),(0,o.Lk)("td",null,(0,n.v_)(e.name),1),(0,o.Lk)("td",null,(0,n.v_)(e.category),1),(0,o.Lk)("td",null,(0,n.v_)(e.price)+" ₽",1),(0,o.Lk)("td",null,(0,n.v_)(e.material),1),(0,o.Lk)("td",null,(0,n.v_)(e.dimensions),1),(0,o.Lk)("td",null,[(0,o.Lk)("span",{class:(0,n.C4)(["availability",e.in_stock?"available":"unavailable"])},(0,n.v_)(e.in_stock?"В наличии":"Нет в наличии"),3)]),(0,o.Lk)("td",null,[e.image_url?((0,o.uX)(),(0,o.CE)("img",{key:0,src:s.getAssetImage(e.image_url),alt:e.name,style:{width:"100px",height:"auto"}},null,8,te)):((0,o.uX)(),(0,o.CE)("span",ae,"Нет изображения"))]),(0,o.Lk)("td",null,[(0,o.bF)(i,{to:{name:"ProductView",params:{id:e.id}},class:"btn btn-info"},{default:(0,o.k6)((()=>t[3]||(t[3]=[(0,o.eW)(" Просмотр ")]))),_:2},1032,["to"]),(0,o.bF)(i,{to:{name:"ProductEdit",params:{id:e.id}},class:"btn btn-warning"},{default:(0,o.k6)((()=>t[4]||(t[4]=[(0,o.eW)(" Редактировать ")]))),_:2},1032,["to"]),(0,o.Lk)("button",{onClick:t=>s.deleteProduct(e.id),class:"btn btn-danger"},"Удалить",8,re)])])))),128))])]),(0,o.Lk)("div",oe,[(0,o.Lk)("button",{onClick:t[0]||(t[0]=e=>s.changePage(l.currentPage-1)),disabled:1===l.currentPage,class:"btn btn-secondary"}," Предыдущая ",8,ne),(0,o.Lk)("span",null,"Страница "+(0,n.v_)(l.currentPage)+" из "+(0,n.v_)(l.totalPages),1),(0,o.Lk)("button",{onClick:t[1]||(t[1]=e=>s.changePage(l.currentPage+1)),disabled:l.currentPage===l.totalPages,class:"btn btn-secondary"}," Следующая ",8,le)])])}a(8111),a(2489);var ie=a(4373);const ue=ie.A.create({baseURL:"http://localhost:5000/api",timeout:5e3,headers:{"Content-Type":"application/json"},withCredentials:!0}),ce={getProducts(e=1,t=10){return ue.get("/products",{params:{page:e,limit:t}})},getProductById(e){return ue.get(`/products/${e}`)},addProduct(e){return ue.post("/products",e)},updateProduct(e,t){return ue.put(`/products/${e}`,t)},deleteProduct(e){return ue.delete(`/products/${e}`)}},de={getEmployees(e=1,t=10){return ue.get("/employees",{params:{page:e,limit:t}})},getEmployeeById(e){return ue.get(`/employees/${e}`)},addEmployee(e){return ue.post("/employees",e)},updateEmployee(e,t){return ue.put(`/employees/${e}`,t)},deleteEmployee(e){return ue.delete(`/employees/${e}`)}};var me={data(){return{products:[],currentPage:1,limit:10,total:0,totalPages:0}},created(){this.fetchProducts()},methods:{fetchProducts(){ce.getProducts(this.currentPage,this.limit).then((e=>{if(console.log("Response from server:",e),!e.data||!e.data.meta)throw new Error("Invalid response format from server");this.products=e.data.data,this.total=e.data.meta.total,this.totalPages=e.data.meta.totalPages})).catch((e=>{console.error("Ошибка при получении списка товаров:",e.message),alert("Произошла ошибка при загрузке данных. Попробуйте позже.")}))},changePage(e){e<1||e>this.totalPages||(this.currentPage=e,this.fetchProducts())},deleteProduct(e){confirm("Вы уверены, что хотите удалить этот продукт?")&&ce.deleteProduct(e).then((()=>{this.products=this.products.filter((t=>t.id!==e)),alert("Продукт успешно удален!")})).catch((e=>{console.error("Ошибка при удалении продукта:",e),alert(`Произошла ошибка при удалении продукта: ${e.message}`)}))},getAssetImage(e){try{return a(290)(`./${e}`)}catch(t){return console.warn(`Изображение не найдено: ${e}`),"/path/to/default-image.jpg"}}}};const pe=(0,x.A)(me,[["render",se],["__scopeId","data-v-5fa45c88"]]);var ke=pe;const fe={class:"furniture-product-create"},ge={class:"form-group"},he={class:"form-group"},be={class:"form-group"},ve={class:"form-group"},Le={class:"form-group"},ye={class:"form-group"},_e={class:"form-group"},De={class:"form-group"};function xe(e,t,a,n,l,s){const i=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("div",fe,[t[20]||(t[20]=(0,o.Lk)("h1",null,"Создание нового изделия",-1)),(0,o.Lk)("form",{onSubmit:t[8]||(t[8]=(0,r.D$)(((...e)=>s.createProduct&&s.createProduct(...e)),["prevent"]))},[(0,o.Lk)("div",ge,[t[9]||(t[9]=(0,o.Lk)("label",{for:"name"},"Название:",-1)),(0,o.bo)((0,o.Lk)("input",{type:"text",id:"name","onUpdate:modelValue":t[0]||(t[0]=e=>l.formData.name=e),required:""},null,512),[[r.Jo,l.formData.name]])]),(0,o.Lk)("div",he,[t[10]||(t[10]=(0,o.Lk)("label",{for:"category"},"Категория:",-1)),(0,o.bo)((0,o.Lk)("input",{type:"text",id:"category","onUpdate:modelValue":t[1]||(t[1]=e=>l.formData.category=e),required:""},null,512),[[r.Jo,l.formData.category]])]),(0,o.Lk)("div",be,[t[11]||(t[11]=(0,o.Lk)("label",{for:"price"},"Цена (₽):",-1)),(0,o.bo)((0,o.Lk)("input",{type:"number",id:"price","onUpdate:modelValue":t[2]||(t[2]=e=>l.formData.price=e),required:""},null,512),[[r.Jo,l.formData.price,void 0,{number:!0}]])]),(0,o.Lk)("div",ve,[t[12]||(t[12]=(0,o.Lk)("label",{for:"description"},"Описание:",-1)),(0,o.bo)((0,o.Lk)("textarea",{id:"description","onUpdate:modelValue":t[3]||(t[3]=e=>l.formData.description=e)},null,512),[[r.Jo,l.formData.description]])]),(0,o.Lk)("div",Le,[t[13]||(t[13]=(0,o.Lk)("label",{for:"material"},"Материал:",-1)),(0,o.bo)((0,o.Lk)("input",{type:"text",id:"material","onUpdate:modelValue":t[4]||(t[4]=e=>l.formData.material=e),required:""},null,512),[[r.Jo,l.formData.material]])]),(0,o.Lk)("div",ye,[t[14]||(t[14]=(0,o.Lk)("label",{for:"dimensions"},"Габариты (см):",-1)),(0,o.bo)((0,o.Lk)("input",{type:"text",id:"dimensions","onUpdate:modelValue":t[5]||(t[5]=e=>l.formData.dimensions=e),placeholder:"например: 200x90x80",required:""},null,512),[[r.Jo,l.formData.dimensions]])]),(0,o.Lk)("div",_e,[t[15]||(t[15]=(0,o.Lk)("label",{for:"image_url"},"URL изображения:",-1)),(0,o.bo)((0,o.Lk)("input",{type:"text",id:"image_url","onUpdate:modelValue":t[6]||(t[6]=e=>l.formData.image_url=e)},null,512),[[r.Jo,l.formData.image_url]])]),(0,o.Lk)("div",De,[t[17]||(t[17]=(0,o.Lk)("label",{for:"in_stock"},"Наличие:",-1)),(0,o.bo)((0,o.Lk)("select",{id:"in_stock","onUpdate:modelValue":t[7]||(t[7]=e=>l.formData.in_stock=e),required:""},t[16]||(t[16]=[(0,o.Lk)("option",{value:!0},"В наличии",-1),(0,o.Lk)("option",{value:!1},"Нет в наличии",-1)]),512),[[r.u1,l.formData.in_stock]])]),t[19]||(t[19]=(0,o.Lk)("button",{type:"submit",class:"btn btn-success"},"Создать",-1)),(0,o.bF)(i,{to:"/products",class:"btn btn-secondary"},{default:(0,o.k6)((()=>t[18]||(t[18]=[(0,o.eW)("Отмена")]))),_:1})],32)])}var Ee={data(){return{formData:{name:"",category:"",price:null,description:"",material:"",dimensions:"",image_url:"",in_stock:!0}}},methods:{createProduct(){const e={name:this.formData.name.trim(),category:this.formData.category.trim(),price:parseFloat(this.formData.price),description:this.formData.description.trim(),material:this.formData.material.trim(),dimensions:this.formData.dimensions.trim(),image_url:this.formData.image_url.trim(),in_stock:this.formData.in_stock};e.name&&e.category&&e.price&&e.material&&e.dimensions?ce.addProduct(e).then((()=>{alert("Изделие успешно создано!"),this.$router.push({name:"ProductsList"})})).catch((e=>{console.error("Ошибка при создании изделия:",e),alert("Произошла ошибка при создании изделия.")})):alert("Пожалуйста, заполните все обязательные поля.")}}};const we=(0,x.A)(Ee,[["render",xe],["__scopeId","data-v-2d9b7bc8"]]);var Pe=we;const Ce={class:"furniture-product-edit"},je=["selected"],Ae=["selected"];function Ue(e,t,a,n,l,s){return(0,o.uX)(),(0,o.CE)("div",Ce,[t[18]||(t[18]=(0,o.Lk)("h1",null,"Редактировать мебельный товар",-1)),(0,o.Lk)("form",{onSubmit:t[8]||(t[8]=(0,r.D$)(((...e)=>s.updateProduct&&s.updateProduct(...e)),["prevent"]))},[t[9]||(t[9]=(0,o.Lk)("label",{for:"name"},"Название:",-1)),(0,o.bo)((0,o.Lk)("input",{type:"text",id:"name","onUpdate:modelValue":t[0]||(t[0]=e=>l.formData.name=e),required:""},null,512),[[r.Jo,l.formData.name]]),t[10]||(t[10]=(0,o.Lk)("label",{for:"category"},"Категория:",-1)),(0,o.bo)((0,o.Lk)("input",{type:"text",id:"category","onUpdate:modelValue":t[1]||(t[1]=e=>l.formData.category=e),required:""},null,512),[[r.Jo,l.formData.category]]),t[11]||(t[11]=(0,o.Lk)("label",{for:"price"},"Цена (₽):",-1)),(0,o.bo)((0,o.Lk)("input",{type:"number",id:"price","onUpdate:modelValue":t[2]||(t[2]=e=>l.formData.price=e),required:""},null,512),[[r.Jo,l.formData.price,void 0,{number:!0}]]),t[12]||(t[12]=(0,o.Lk)("label",{for:"description"},"Описание:",-1)),(0,o.bo)((0,o.Lk)("textarea",{id:"description","onUpdate:modelValue":t[3]||(t[3]=e=>l.formData.description=e)},null,512),[[r.Jo,l.formData.description]]),t[13]||(t[13]=(0,o.Lk)("label",{for:"material"},"Материал:",-1)),(0,o.bo)((0,o.Lk)("input",{type:"text",id:"material","onUpdate:modelValue":t[4]||(t[4]=e=>l.formData.material=e),required:""},null,512),[[r.Jo,l.formData.material]]),t[14]||(t[14]=(0,o.Lk)("label",{for:"dimensions"},"Габариты (см):",-1)),(0,o.bo)((0,o.Lk)("input",{type:"text",id:"dimensions","onUpdate:modelValue":t[5]||(t[5]=e=>l.formData.dimensions=e),placeholder:"например: 200x90x80",required:""},null,512),[[r.Jo,l.formData.dimensions]]),t[15]||(t[15]=(0,o.Lk)("label",{for:"image_url"},"URL изображения:",-1)),(0,o.bo)((0,o.Lk)("input",{type:"text",id:"image_url","onUpdate:modelValue":t[6]||(t[6]=e=>l.formData.image_url=e)},null,512),[[r.Jo,l.formData.image_url]]),t[16]||(t[16]=(0,o.Lk)("label",{for:"in_stock"},"Наличие:",-1)),(0,o.bo)((0,o.Lk)("select",{id:"in_stock","onUpdate:modelValue":t[7]||(t[7]=e=>l.formData.in_stock=e),required:""},[(0,o.Lk)("option",{value:!0,selected:!0===l.formData.in_stock},"В наличии",8,je),(0,o.Lk)("option",{value:!1,selected:!1===l.formData.in_stock},"Нет в наличии",8,Ae)],512),[[r.u1,l.formData.in_stock]]),t[17]||(t[17]=(0,o.Lk)("button",{type:"submit"},"Сохранить изменения",-1))],32)])}var Ve={data(){return{formData:{name:"",category:"",price:null,description:"",material:"",dimensions:"",image_url:"",in_stock:!0}}},async created(){await this.fetchProduct()},methods:{async fetchProduct(){try{const e=await ce.getProductById(this.$route.params.id);this.formData=e.data}catch(e){console.error("Ошибка при загрузке продукта:",e),alert("Не удалось загрузить данные о продукте")}},async updateProduct(){try{await ce.updateProduct(this.$route.params.id,this.formData),this.$router.push("/products")}catch(e){console.error("Ошибка при обновлении продукта:",e),alert("Произошла ошибка при сохранении данных")}}}};const Xe=(0,x.A)(Ve,[["render",Ue],["__scopeId","data-v-30cb83dc"]]);var Ie=Xe;const $e={class:"furniture-product-view"},qe={key:0},Je=["src","alt"],We={key:1},Fe={key:1};function Oe(e,t,a,r,l,s){const i=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("div",$e,[t[9]||(t[9]=(0,o.Lk)("h1",null,"Просмотр изделия",-1)),l.product?((0,o.uX)(),(0,o.CE)("div",qe,[(0,o.Lk)("h2",null,(0,n.v_)(l.product.name),1),(0,o.Lk)("p",null,[t[0]||(t[0]=(0,o.Lk)("strong",null,"ID:",-1)),(0,o.eW)(" "+(0,n.v_)(l.product.id),1)]),(0,o.Lk)("p",null,[t[1]||(t[1]=(0,o.Lk)("strong",null,"Категория:",-1)),(0,o.eW)(" "+(0,n.v_)(l.product.category),1)]),(0,o.Lk)("p",null,[t[2]||(t[2]=(0,o.Lk)("strong",null,"Цена:",-1)),(0,o.eW)(" "+(0,n.v_)(l.product.price)+" ₽",1)]),(0,o.Lk)("p",null,[t[3]||(t[3]=(0,o.Lk)("strong",null,"Материал:",-1)),(0,o.eW)(" "+(0,n.v_)(l.product.material),1)]),(0,o.Lk)("p",null,[t[4]||(t[4]=(0,o.Lk)("strong",null,"Габариты:",-1)),(0,o.eW)(" "+(0,n.v_)(l.product.dimensions),1)]),(0,o.Lk)("p",null,[t[5]||(t[5]=(0,o.Lk)("strong",null,"Описание:",-1)),(0,o.eW)(" "+(0,n.v_)(l.product.description),1)]),(0,o.Lk)("p",null,[t[6]||(t[6]=(0,o.Lk)("strong",null,"Наличие:",-1)),(0,o.eW)(" "+(0,n.v_)(l.product.in_stock?"В наличии":"Нет в наличии"),1)]),l.product.image_url?((0,o.uX)(),(0,o.CE)("img",{key:0,src:s.getAssetImage(l.product.image_url),alt:l.product.name,style:{width:"300px",height:"auto"}},null,8,Je)):((0,o.uX)(),(0,o.CE)("span",We,"Нет изображения"))])):((0,o.uX)(),(0,o.CE)("div",Fe,t[7]||(t[7]=[(0,o.Lk)("p",null,"Загрузка данных...",-1)]))),(0,o.bF)(i,{to:"/products",class:"btn btn-secondary"},{default:(0,o.k6)((()=>t[8]||(t[8]=[(0,o.eW)("Назад к списку")]))),_:1})])}var Se={data(){return{product:null}},created(){this.fetchProduct()},methods:{fetchProduct(){const e=this.$route.params.id;ce.getProductById(e).then((e=>{this.product=e.data})).catch((e=>{console.error("Ошибка при получении данных о продукте:",e.message),alert("Произошла ошибка при загрузке данных. Попробуйте позже.")}))},getAssetImage(e){try{return a(290)(`./${e}`)}catch(t){return console.warn(`Изображение не найдено: ${e}`),"/path/to/default-image.jpg"}}}};const Te=(0,x.A)(Se,[["render",Oe],["__scopeId","data-v-443fc14b"]]);var Re=Te;const Ne={class:"furniture-employees-index"},Be={class:"table"},Ke=["src","alt"],ze={key:1},Me=["onClick"],Ge={class:"pagination"},He=["disabled"],Qe=["disabled"];function Ye(e,t,a,r,l,s){const i=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("div",Ne,[t[6]||(t[6]=(0,o.Lk)("h1",null,"Список сотрудников",-1)),(0,o.bF)(i,{to:"/employees/add",class:"btn btn-primary"},{default:(0,o.k6)((()=>t[2]||(t[2]=[(0,o.eW)("Добавить сотрудника")]))),_:1}),(0,o.Lk)("table",Be,[t[5]||(t[5]=(0,o.Lk)("thead",null,[(0,o.Lk)("tr",null,[(0,o.Lk)("th",null,"#"),(0,o.Lk)("th",null,"ФИО"),(0,o.Lk)("th",null,"Должность"),(0,o.Lk)("th",null,"Телефон"),(0,o.Lk)("th",null,"Email"),(0,o.Lk)("th",null,"Дата найма"),(0,o.Lk)("th",null,"Стаж"),(0,o.Lk)("th",null,"Изображение"),(0,o.Lk)("th",null,"Действия")])],-1)),(0,o.Lk)("tbody",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(l.employees,(e=>((0,o.uX)(),(0,o.CE)("tr",{key:e.id},[(0,o.Lk)("td",null,(0,n.v_)(e.id),1),(0,o.Lk)("td",null,(0,n.v_)(e.full_name),1),(0,o.Lk)("td",null,(0,n.v_)(e.position),1),(0,o.Lk)("td",null,(0,n.v_)(e.phone),1),(0,o.Lk)("td",null,(0,n.v_)(e.email),1),(0,o.Lk)("td",null,(0,n.v_)(s.formatDate(e.hire_date)),1),(0,o.Lk)("td",null,(0,n.v_)(e.experience_years)+" лет",1),(0,o.Lk)("td",null,[e.image_url?((0,o.uX)(),(0,o.CE)("img",{key:0,src:s.getAssetImage(e.image_url),alt:e.full_name,style:{width:"100px",height:"auto"}},null,8,Ke)):((0,o.uX)(),(0,o.CE)("span",ze,"Нет фото"))]),(0,o.Lk)("td",null,[(0,o.bF)(i,{to:{name:"EmployeeView",params:{id:e.id}},class:"btn btn-info"},{default:(0,o.k6)((()=>t[3]||(t[3]=[(0,o.eW)(" Просмотр ")]))),_:2},1032,["to"]),(0,o.bF)(i,{to:{name:"EmployeeEdit",params:{id:e.id}},class:"btn btn-warning"},{default:(0,o.k6)((()=>t[4]||(t[4]=[(0,o.eW)(" Редактировать ")]))),_:2},1032,["to"]),(0,o.Lk)("button",{onClick:t=>s.deleteEmployee(e.id),class:"btn btn-danger"},"Удалить",8,Me)])])))),128))])]),(0,o.Lk)("div",Ge,[(0,o.Lk)("button",{onClick:t[0]||(t[0]=e=>s.changePage(l.currentPage-1)),disabled:1===l.currentPage,class:"btn btn-secondary"}," Предыдущая ",8,He),(0,o.Lk)("span",null,"Страница "+(0,n.v_)(l.currentPage)+" из "+(0,n.v_)(l.totalPages),1),(0,o.Lk)("button",{onClick:t[1]||(t[1]=e=>s.changePage(l.currentPage+1)),disabled:l.currentPage===l.totalPages,class:"btn btn-secondary"}," Следующая ",8,Qe)])])}var Ze={data(){return{employees:[],currentPage:1,limit:10,total:0,totalPages:0}},created(){this.fetchEmployees()},methods:{fetchEmployees(){de.getEmployees(this.currentPage,this.limit).then((e=>{if(console.log("Response from server:",e),!e.data||!e.data.meta)throw new Error("Invalid response format from server");this.employees=e.data.data,this.total=e.data.meta.total,this.totalPages=e.data.meta.totalPages})).catch((e=>{console.error("Ошибка при получении списка сотрудников:",e.message),alert("Произошла ошибка при загрузке данных. Попробуйте позже.")}))},changePage(e){e<1||e>this.totalPages||(this.currentPage=e,this.fetchEmployees())},deleteEmployee(e){confirm("Вы уверены, что хотите удалить этого сотрудника?")&&de.deleteEmployee(e).then((()=>{this.employees=this.employees.filter((t=>t.id!==e)),alert("Сотрудник успешно удален!")})).catch((e=>{console.error("Ошибка при удалении сотрудника:",e),alert(`Произошла ошибка при удалении сотрудника: ${e.message}`)}))},getAssetImage(e){try{return a(290)(`./${e}`)}catch(t){return console.warn(`Изображение не найдено: ${e}`),"/path/to/default-image.jpg"}},formatDate(e){if(!e)return"";const t=new Date(e);return t.toLocaleDateString()}}};const et=(0,x.A)(Ze,[["render",Ye],["__scopeId","data-v-16601de0"]]);var tt=et;const at={class:"furniture-employee-create"},rt={class:"form-group"},ot={class:"form-group"},nt={class:"form-group"},lt={class:"form-group"},st={class:"form-group"},it={class:"form-group"},ut={class:"form-group"},ct={class:"form-group"};function dt(e,t,a,n,l,s){const i=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("div",at,[t[19]||(t[19]=(0,o.Lk)("h1",null,"Добавить нового сотрудника",-1)),(0,o.Lk)("form",{onSubmit:t[8]||(t[8]=(0,r.D$)(((...e)=>s.createEmployee&&s.createEmployee(...e)),["prevent"]))},[(0,o.Lk)("div",rt,[t[9]||(t[9]=(0,o.Lk)("label",{for:"full_name"},"ФИО:",-1)),(0,o.bo)((0,o.Lk)("input",{type:"text",id:"full_name","onUpdate:modelValue":t[0]||(t[0]=e=>l.formData.full_name=e),required:""},null,512),[[r.Jo,l.formData.full_name]])]),(0,o.Lk)("div",ot,[t[10]||(t[10]=(0,o.Lk)("label",{for:"position"},"Должность:",-1)),(0,o.bo)((0,o.Lk)("input",{type:"text",id:"position","onUpdate:modelValue":t[1]||(t[1]=e=>l.formData.position=e),required:""},null,512),[[r.Jo,l.formData.position]])]),(0,o.Lk)("div",nt,[t[11]||(t[11]=(0,o.Lk)("label",{for:"phone"},"Телефон:",-1)),(0,o.bo)((0,o.Lk)("input",{type:"text",id:"phone","onUpdate:modelValue":t[2]||(t[2]=e=>l.formData.phone=e),required:""},null,512),[[r.Jo,l.formData.phone]])]),(0,o.Lk)("div",lt,[t[12]||(t[12]=(0,o.Lk)("label",{for:"email"},"Email:",-1)),(0,o.bo)((0,o.Lk)("input",{type:"email",id:"email","onUpdate:modelValue":t[3]||(t[3]=e=>l.formData.email=e)},null,512),[[r.Jo,l.formData.email]])]),(0,o.Lk)("div",st,[t[13]||(t[13]=(0,o.Lk)("label",{for:"hire_date"},"Дата найма:",-1)),(0,o.bo)((0,o.Lk)("input",{type:"date",id:"hire_date","onUpdate:modelValue":t[4]||(t[4]=e=>l.formData.hire_date=e),required:""},null,512),[[r.Jo,l.formData.hire_date]])]),(0,o.Lk)("div",it,[t[14]||(t[14]=(0,o.Lk)("label",{for:"salary"},"Зарплата (₽):",-1)),(0,o.bo)((0,o.Lk)("input",{type:"number",id:"salary","onUpdate:modelValue":t[5]||(t[5]=e=>l.formData.salary=e),required:""},null,512),[[r.Jo,l.formData.salary,void 0,{number:!0}]])]),(0,o.Lk)("div",ut,[t[15]||(t[15]=(0,o.Lk)("label",{for:"experience_years"},"Стаж работы (лет):",-1)),(0,o.bo)((0,o.Lk)("input",{type:"number",id:"experience_years","onUpdate:modelValue":t[6]||(t[6]=e=>l.formData.experience_years=e),required:""},null,512),[[r.Jo,l.formData.experience_years,void 0,{number:!0}]])]),(0,o.Lk)("div",ct,[t[16]||(t[16]=(0,o.Lk)("label",{for:"image_url"},"URL фото:",-1)),(0,o.bo)((0,o.Lk)("input",{type:"text",id:"image_url","onUpdate:modelValue":t[7]||(t[7]=e=>l.formData.image_url=e)},null,512),[[r.Jo,l.formData.image_url]])]),t[18]||(t[18]=(0,o.Lk)("button",{type:"submit",class:"btn btn-success"},"Создать",-1)),(0,o.bF)(i,{to:"/employees",class:"btn btn-secondary"},{default:(0,o.k6)((()=>t[17]||(t[17]=[(0,o.eW)("Отмена")]))),_:1})],32)])}var mt={data(){return{formData:{full_name:"",position:"",phone:"",email:"",hire_date:"",salary:null,experience_years:null,image_url:""}}},methods:{createEmployee(){const e={full_name:this.formData.full_name.trim(),position:this.formData.position.trim(),phone:this.formData.phone.trim(),email:this.formData.email.trim(),hire_date:this.formData.hire_date,salary:parseFloat(this.formData.salary),experience_years:parseInt(this.formData.experience_years),image_url:this.formData.image_url.trim()};e.full_name&&e.position&&e.phone&&e.hire_date&&e.salary&&e.experience_years?de.addEmployee(e).then((()=>{alert("Сотрудник успешно добавлен!"),this.$router.push({name:"EmployeesList"})})).catch((e=>{console.error("Ошибка при добавлении сотрудника:",e),alert("Произошла ошибка при добавлении сотрудника.")})):alert("Пожалуйста, заполните все обязательные поля.")}}};const pt=(0,x.A)(mt,[["render",dt],["__scopeId","data-v-4d74398b"]]);var kt=pt;const ft={class:"furniture-employee-edit"};function gt(e,t,a,n,l,s){return(0,o.uX)(),(0,o.CE)("div",ft,[t[18]||(t[18]=(0,o.Lk)("h1",null,"Редактировать сотрудника",-1)),(0,o.Lk)("form",{onSubmit:t[8]||(t[8]=(0,r.D$)(((...e)=>s.updateEmployee&&s.updateEmployee(...e)),["prevent"]))},[t[9]||(t[9]=(0,o.Lk)("label",{for:"full_name"},"ФИО:",-1)),(0,o.bo)((0,o.Lk)("input",{type:"text",id:"full_name","onUpdate:modelValue":t[0]||(t[0]=e=>l.formData.full_name=e),required:""},null,512),[[r.Jo,l.formData.full_name]]),t[10]||(t[10]=(0,o.Lk)("label",{for:"position"},"Должность:",-1)),(0,o.bo)((0,o.Lk)("input",{type:"text",id:"position","onUpdate:modelValue":t[1]||(t[1]=e=>l.formData.position=e),required:""},null,512),[[r.Jo,l.formData.position]]),t[11]||(t[11]=(0,o.Lk)("label",{for:"phone"},"Телефон:",-1)),(0,o.bo)((0,o.Lk)("input",{type:"text",id:"phone","onUpdate:modelValue":t[2]||(t[2]=e=>l.formData.phone=e),required:""},null,512),[[r.Jo,l.formData.phone]]),t[12]||(t[12]=(0,o.Lk)("label",{for:"email"},"Email:",-1)),(0,o.bo)((0,o.Lk)("input",{type:"email",id:"email","onUpdate:modelValue":t[3]||(t[3]=e=>l.formData.email=e)},null,512),[[r.Jo,l.formData.email]]),t[13]||(t[13]=(0,o.Lk)("label",{for:"hire_date"},"Дата найма:",-1)),(0,o.bo)((0,o.Lk)("input",{type:"date",id:"hire_date","onUpdate:modelValue":t[4]||(t[4]=e=>l.formData.hire_date=e),required:""},null,512),[[r.Jo,l.formData.hire_date]]),t[14]||(t[14]=(0,o.Lk)("label",{for:"salary"},"Зарплата (₽):",-1)),(0,o.bo)((0,o.Lk)("input",{type:"number",id:"salary","onUpdate:modelValue":t[5]||(t[5]=e=>l.formData.salary=e),required:""},null,512),[[r.Jo,l.formData.salary,void 0,{number:!0}]]),t[15]||(t[15]=(0,o.Lk)("label",{for:"experience_years"},"Стаж работы (лет):",-1)),(0,o.bo)((0,o.Lk)("input",{type:"number",id:"experience_years","onUpdate:modelValue":t[6]||(t[6]=e=>l.formData.experience_years=e),required:""},null,512),[[r.Jo,l.formData.experience_years,void 0,{number:!0}]]),t[16]||(t[16]=(0,o.Lk)("label",{for:"image_url"},"URL фото:",-1)),(0,o.bo)((0,o.Lk)("input",{type:"text",id:"image_url","onUpdate:modelValue":t[7]||(t[7]=e=>l.formData.image_url=e)},null,512),[[r.Jo,l.formData.image_url]]),t[17]||(t[17]=(0,o.Lk)("button",{type:"submit"},"Сохранить изменения",-1))],32)])}var ht={data(){return{formData:{full_name:"",position:"",phone:"",email:"",hire_date:"",salary:null,experience_years:null,image_url:""}}},async created(){await this.fetchEmployee()},methods:{async fetchEmployee(){try{const e=await de.getEmployeeById(this.$route.params.id);this.formData=e.data}catch(e){console.error("Ошибка при загрузке данных сотрудника:",e),alert("Не удалось загрузить данные о сотруднике")}},async updateEmployee(){try{await de.updateEmployee(this.$route.params.id,this.formData),this.$router.push("/employees")}catch(e){console.error("Ошибка при обновлении сотрудника:",e),alert("Произошла ошибка при сохранении данных")}}}};const bt=(0,x.A)(ht,[["render",gt],["__scopeId","data-v-7d72641c"]]);var vt=bt;const Lt={class:"furniture-employee-view"},yt={key:0},_t={key:1},Dt={key:2},xt=["src"],Et={key:1};function wt(e,t,a,r,l,s){const i=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("div",Lt,[t[9]||(t[9]=(0,o.Lk)("h1",null,"Просмотр сотрудника",-1)),l.loading?((0,o.uX)(),(0,o.CE)("div",yt,"Загрузка данных...")):l.error?((0,o.uX)(),(0,o.CE)("div",_t,(0,n.v_)(l.error),1)):((0,o.uX)(),(0,o.CE)("div",Dt,[(0,o.Lk)("p",null,[t[0]||(t[0]=(0,o.Lk)("strong",null,"ФИО:",-1)),(0,o.eW)(" "+(0,n.v_)(l.employee.full_name),1)]),(0,o.Lk)("p",null,[t[1]||(t[1]=(0,o.Lk)("strong",null,"Должность:",-1)),(0,o.eW)(" "+(0,n.v_)(l.employee.position),1)]),(0,o.Lk)("p",null,[t[2]||(t[2]=(0,o.Lk)("strong",null,"Телефон:",-1)),(0,o.eW)(" "+(0,n.v_)(l.employee.phone),1)]),(0,o.Lk)("p",null,[t[3]||(t[3]=(0,o.Lk)("strong",null,"Email:",-1)),(0,o.eW)(" "+(0,n.v_)(l.employee.email||"Не указан"),1)]),(0,o.Lk)("p",null,[t[4]||(t[4]=(0,o.Lk)("strong",null,"Дата найма:",-1)),(0,o.eW)(" "+(0,n.v_)(s.formatDate(l.employee.hire_date)),1)]),(0,o.Lk)("p",null,[t[5]||(t[5]=(0,o.Lk)("strong",null,"Зарплата:",-1)),(0,o.eW)(" "+(0,n.v_)(l.employee.salary)+" ₽",1)]),(0,o.Lk)("p",null,[t[6]||(t[6]=(0,o.Lk)("strong",null,"Стаж работы:",-1)),(0,o.eW)(" "+(0,n.v_)(l.employee.experience_years)+" лет",1)]),t[7]||(t[7]=(0,o.Lk)("p",null,[(0,o.Lk)("strong",null,"Фото:")],-1)),l.employee.image_url?((0,o.uX)(),(0,o.CE)("img",{key:0,src:s.getAssetImage(l.employee.image_url),alt:"Фото сотрудника",style:{"max-width":"200px",height:"auto","border-radius":"8px"}},null,8,xt)):((0,o.uX)(),(0,o.CE)("span",Et,"Нет фото"))])),(0,o.bF)(i,{to:"/employees",class:"btn btn-secondary"},{default:(0,o.k6)((()=>t[8]||(t[8]=[(0,o.eW)("Назад к списку")]))),_:1})])}var Pt={data(){return{employee:null,loading:!0,error:null}},async created(){await this.fetchEmployee()},methods:{async fetchEmployee(){try{const e=await de.getEmployeeById(this.$route.params.id);this.employee=e.data,this.loading=!1}catch(e){this.error="Ошибка при загрузке данных о сотруднике",this.loading=!1,console.error("Ошибка при загрузке сотрудника:",e)}},getAssetImage(e){try{return a(290)(`./${e}`)}catch(t){return console.warn(`Изображение не найдено: ${e}`),"/path/to/default-image.jpg"}},formatDate(e){if(!e)return"Не указана";const t=new Date(e);return t.toLocaleDateString("ru-RU")}}};const Ct=(0,x.A)(Pt,[["render",wt],["__scopeId","data-v-5d61f93a"]]);var jt=Ct;const At={class:"container mt-5"},Ut={class:"row justify-content-center"},Vt={class:"col-md-6"},Xt={class:"card"},It={class:"card-body"},$t={class:"mb-3"},qt={class:"mb-3"},Jt={key:0,class:"mt-3 text-danger text-center"};function Wt(e,t,a,l,s,i){return(0,o.uX)(),(0,o.CE)("div",At,[(0,o.Lk)("div",Ut,[(0,o.Lk)("div",Vt,[(0,o.Lk)("div",Xt,[t[6]||(t[6]=(0,o.Lk)("div",{class:"card-header bg-dark text-white"},[(0,o.Lk)("h3",{class:"text-center"},"Вход")],-1)),(0,o.Lk)("div",It,[(0,o.Lk)("form",{onSubmit:t[2]||(t[2]=(0,r.D$)(((...e)=>i.login&&i.login(...e)),["prevent"]))},[(0,o.Lk)("div",$t,[t[3]||(t[3]=(0,o.Lk)("label",{for:"username",class:"form-label"},"Имя пользователя",-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>s.username=e),type:"text",id:"username",class:"form-control",placeholder:"Введите имя пользователя",required:""},null,512),[[r.Jo,s.username]])]),(0,o.Lk)("div",qt,[t[4]||(t[4]=(0,o.Lk)("label",{for:"password",class:"form-label"},"Пароль",-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>s.password=e),type:"password",id:"password",class:"form-control",placeholder:"Введите пароль",required:""},null,512),[[r.Jo,s.password]])]),t[5]||(t[5]=(0,o.Lk)("button",{type:"submit",class:"btn btn-primary w-100"},"Войти",-1))],32),s.message?((0,o.uX)(),(0,o.CE)("p",Jt,(0,n.v_)(s.message),1)):(0,o.Q3)("",!0)])])])])])}var Ft={data(){return{username:"",password:"",message:""}},methods:{async login(){const e=await fetch("/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:this.username,password:this.password})}),t=await e.json();e.ok?(this.$router.push("/dashboard"),await this.$root.checkAuth()):this.message=t.message||"Ошибка входа"}}};const Ot=(0,x.A)(Ft,[["render",Wt]]);var St=Ot;const Tt={class:"container mt-5"},Rt={class:"row justify-content-center"},Nt={class:"col-md-6"},Bt={class:"card"},Kt={class:"card-body"},zt={class:"mb-3"},Mt={class:"mb-3"},Gt={key:0,class:"mt-3 text-danger text-center"};function Ht(e,t,a,l,s,i){return(0,o.uX)(),(0,o.CE)("div",Tt,[(0,o.Lk)("div",Rt,[(0,o.Lk)("div",Nt,[(0,o.Lk)("div",Bt,[t[6]||(t[6]=(0,o.Lk)("div",{class:"card-header bg-dark text-white"},[(0,o.Lk)("h3",{class:"text-center"},"Регистрация")],-1)),(0,o.Lk)("div",Kt,[(0,o.Lk)("form",{onSubmit:t[2]||(t[2]=(0,r.D$)(((...e)=>i.register&&i.register(...e)),["prevent"]))},[(0,o.Lk)("div",zt,[t[3]||(t[3]=(0,o.Lk)("label",{for:"username",class:"form-label"},"Имя пользователя",-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>s.username=e),type:"text",id:"username",class:"form-control",placeholder:"Введите имя пользователя",required:""},null,512),[[r.Jo,s.username]])]),(0,o.Lk)("div",Mt,[t[4]||(t[4]=(0,o.Lk)("label",{for:"password",class:"form-label"},"Пароль",-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>s.password=e),type:"password",id:"password",class:"form-control",placeholder:"Введите пароль",required:""},null,512),[[r.Jo,s.password]])]),t[5]||(t[5]=(0,o.Lk)("button",{type:"submit",class:"btn btn-success w-100"},"Зарегистрироваться",-1))],32),s.message?((0,o.uX)(),(0,o.CE)("p",Gt,(0,n.v_)(s.message),1)):(0,o.Q3)("",!0)])])])])])}var Qt={data(){return{username:"",password:"",message:""}},methods:{async register(){const e=await fetch("/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:this.username,password:this.password})}),t=await e.json();this.message=t.message,e.ok&&this.$router.push("/login")}}};const Yt=(0,x.A)(Qt,[["render",Ht]]);var Zt=Yt;const ea={class:"container mt-5"},ta={class:"row justify-content-center"},aa={class:"col-md-8"},ra={class:"card"},oa={class:"card-header bg-dark text-white"},na={class:"text-center"},la={class:"card-body"};function sa(e,t,a,r,l,s){return(0,o.uX)(),(0,o.CE)("div",ea,[(0,o.Lk)("div",ta,[(0,o.Lk)("div",aa,[(0,o.Lk)("div",ra,[(0,o.Lk)("div",oa,[(0,o.Lk)("h3",na,"Добро пожаловать, "+(0,n.v_)(l.username)+"!",1)]),(0,o.Lk)("div",la,[t[1]||(t[1]=(0,o.Lk)("p",{class:"text-center"},"Вы успешно вошли в систему.",-1)),(0,o.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>s.logout&&s.logout(...e)),class:"btn btn-danger w-100"},"Выйти")])])])])])}var ia={data(){return{username:""}},async created(){await this.checkAuth()},methods:{async checkAuth(){const e=await fetch("/protected");if(!e.ok)return void this.$router.push("/login");const t=await e.json();this.username=t.userId},async logout(){await fetch("/logout",{method:"GET"}),this.$router.push("/login")}}};const ua=(0,x.A)(ia,[["render",sa]]);var ca=ua;const da={class:"container mt-5"},ma={class:"row justify-content-center"},pa={class:"col-md-6"},ka={class:"card"},fa={class:"card-body"};function ga(e,t,a,r,n,l){const s=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("div",da,[(0,o.Lk)("div",ma,[(0,o.Lk)("div",pa,[(0,o.Lk)("div",ka,[t[2]||(t[2]=(0,o.Lk)("div",{class:"card-header bg-danger text-white"},[(0,o.Lk)("h3",{class:"text-center"},"Доступ запрещён")],-1)),(0,o.Lk)("div",fa,[t[1]||(t[1]=(0,o.Lk)("p",{class:"text-center"},"У вас нет прав для просмотра этой страницы.",-1)),(0,o.bF)(s,{to:"/",class:"btn btn-primary w-100"},{default:(0,o.k6)((()=>t[0]||(t[0]=[(0,o.eW)("Вернуться на главную")]))),_:1})])])])])])}var ha={name:"UnauthorizedView"};const ba=(0,x.A)(ha,[["render",ga]]);var va=ba;const La=[{path:"/",name:"Home",component:$},{path:"/about",name:"About",component:N},{path:"/contacts",name:"Contacts",component:Y},{path:"/products",name:"ProductsList",component:ke,meta:{requiresAuth:!0,role:"admin"}},{path:"/products/add",name:"ProductAdd",component:Pe,meta:{requiresAuth:!0,role:"admin"}},{path:"/products/:id/edit",name:"ProductEdit",component:Ie,meta:{requiresAuth:!0,role:"admin"},props:!0},{path:"/products/:id",name:"ProductView",component:Re,meta:{requiresAuth:!0,role:"admin"},props:!0},{path:"/employees",name:"EmployeesList",component:tt,meta:{requiresAuth:!0,role:"admin"}},{path:"/employees/add",name:"EmployeeAdd",component:kt,meta:{requiresAuth:!0,role:"admin"}},{path:"/employees/:id/edit",name:"EmployeeEdit",component:vt,meta:{requiresAuth:!0,role:"admin"},props:!0},{path:"/employees/:id",name:"EmployeeView",component:jt,meta:{requiresAuth:!0,role:"admin"},props:!0},{path:"/login",name:"Login",component:St},{path:"/register",name:"Register",component:Zt},{path:"/dashboard",name:"Dashboard",component:ca},{path:"/unauthorized",name:"Unauthorized",component:va}],ya=(0,P.aE)({history:(0,P.LA)("/"),routes:La});ya.beforeEach((async(e,t,a)=>{if(e.meta.requiresAuth)try{const t=await fetch("/protected");if(!t.ok)return a("/login");const r=await t.json(),o=r.role;if(e.meta.role&&o!==e.meta.role)return a("/unauthorized");a()}catch(r){console.error("Ошибка при проверке авторизации:",r),a("/login")}else a()}));var _a=ya;a(8077);const Da=(0,r.Ef)(w);Da.use(_a),Da.mount("#app")},9556:function(e,t,a){"use strict";e.exports=a.p+"img/i3.8d2f2d2e.jpg"},9856:function(e,t,a){"use strict";e.exports=a.p+"img/c1.fa0bcdf1.jpg"}},t={};function a(r){var o=t[r];if(void 0!==o)return o.exports;var n=t[r]={exports:{}};return e[r].call(n.exports,n,n.exports,a),n.exports}a.m=e,function(){var e=[];a.O=function(t,r,o,n){if(!r){var l=1/0;for(c=0;c<e.length;c++){r=e[c][0],o=e[c][1],n=e[c][2];for(var s=!0,i=0;i<r.length;i++)(!1&n||l>=n)&&Object.keys(a.O).every((function(e){return a.O[e](r[i])}))?r.splice(i--,1):(s=!1,n<l&&(l=n));if(s){e.splice(c--,1);var u=o();void 0!==u&&(t=u)}}return t}n=n||0;for(var c=e.length;c>0&&e[c-1][2]>n;c--)e[c]=e[c-1];e[c]=[r,o,n]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.p="/"}(),function(){var e={524:0};a.O.j=function(t){return 0===e[t]};var t=function(t,r){var o,n,l=r[0],s=r[1],i=r[2],u=0;if(l.some((function(t){return 0!==e[t]}))){for(o in s)a.o(s,o)&&(a.m[o]=s[o]);if(i)var c=i(a)}for(t&&t(r);u<l.length;u++)n=l[u],a.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return a.O(c)},r=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=a.O(void 0,[504],(function(){return a(9210)}));r=a.O(r)})();
//# sourceMappingURL=app.609c71a8.js.map